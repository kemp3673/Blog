"use strict";(self.webpackChunkbooking=self.webpackChunkbooking||[]).push([[82],{4082:function(e,t,a){a.r(t);var n=a(4165),r=a(5861),s=a(9439),i=a(2791),l=a(4569),o=a.n(l),c=a(7689),d=a(6770),u=a.n(d),p=(a(6009),a(184));t.default=function(){var e=(0,i.useState)(!1),t=(0,s.Z)(e,2),a=t[0],l=t[1],d=(0,i.useState)(""),h=(0,s.Z)(d,2),m=h[0],x=h[1],g=(0,i.useState)(""),b=(0,s.Z)(g,2),v=b[0],f=b[1],j=(0,i.useState)(""),w=(0,s.Z)(j,2),_=w[0],y=w[1],k=(0,i.useState)([]),N=(0,s.Z)(k,2),Z=N[0],F=N[1],S=(0,i.useState)(null),C=(0,s.Z)(S,2),T=C[0],D=C[1],L=(0,c.TH)(),P=new URLSearchParams(L.search).get("edit");console.log("selectedFiles: ",Z),(0,i.useEffect)((function(){var e=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t,a,r,s,i,c,d;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!P){e.next=14;break}return l(!0),e.next=5,o().get("/api/blogs/".concat(P));case 5:t=e.sent,a=t.data,r=a[0],s=r.title,i=r.description,c=r.content,d=r.main_image,console.log("data: ",a[0]),x(s),f(i),y(c),F(d),D("/uploads/".concat(d));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var R=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t,a,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("title",m),t.append("description",v),t.append("content",_),t.append("main_image",Z),t.append("user_id",1),e.prev=6,e.next=9,o().patch("/api/auth/blogs/".concat(P),t,{headers:{"Content-Type":"multipart/form-data"}});case 9:a=e.sent,r=a.data,alert("Blog updated!"),console.log(r),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t,a,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("title",m),t.append("description",v),t.append("content",_),t.append("main_image",Z),t.append("user_id",1),e.prev=6,e.next=9,o().post("/api/auth/blogs/write",t,{headers:{"Content-Type":"multipart/form-data"}});case 9:a=e.sent,r=a.data,alert("Blog posted!"),console.log(r),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(){return e.apply(this,arguments)}}();return(0,p.jsx)("div",{className:"writeblog_container",children:(0,p.jsxs)("div",{className:"writeblog_inner",children:[(0,p.jsxs)("div",{className:"writeblog_content",children:[(0,p.jsxs)("div",{className:"writeblog_Title_Sum",children:[(0,p.jsx)("label",{htmlFor:"summary",children:"Title"}),(0,p.jsx)("input",{type:"text",value:m,onChange:function(e){return x(e.target.value)},maxLength:"255"})]}),(0,p.jsxs)("div",{className:"writeblog_Title_Sum",children:[(0,p.jsx)("label",{htmlFor:"summary",children:"Summary"}),(0,p.jsx)("textarea",{className:"writeblog_summary",type:"text",value:v,onChange:function(e){return f(e.target.value)},maxLength:"1000"})]}),(0,p.jsx)("div",{className:"editor_container",children:(0,p.jsx)(u(),{className:"editor",theme:"snow",value:_,modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","code-block"],["clean"]],clipboard:{matchVisual:!1}},formats:["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","code-block"],bounds:".app",onChange:function(e){return y(e)}})})]}),(0,p.jsxs)("div",{className:"writeblog_menu",children:[(0,p.jsxs)("div",{className:"writeblog_menu_item",children:[(0,p.jsx)("h1",{children:"Publish"}),(0,p.jsxs)("span",{children:[(0,p.jsx)("b",{children:"Status: "})," Draft"]}),(0,p.jsxs)("span",{children:[(0,p.jsx)("b",{children:"Visibility: "})," Public"]}),(0,p.jsx)("input",{type:"file",id:"file",accept:"image/*",style:{display:"none"},onChange:function(e){var t=e.target.files[0];if(t){F(t);var a=new FileReader;a.onloadend=function(){D(a.result)},a.readAsDataURL(t)}}}),(0,p.jsx)("label",{className:"file_upload",htmlFor:"file",children:"Upload Image"}),(0,p.jsx)("div",{className:"uploaded_images",children:T?(0,p.jsx)("img",{style:{maxHeight:"100px",maxWidth:"100px"},src:T,alt:"uploaded"}):null}),(0,p.jsx)("div",{className:"write_buttons",children:a?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("button",{className:"write_button",children:"Save as Draft"}),(0,p.jsx)("button",{className:"write_button",onClick:R,children:"Update"})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("button",{className:"write_button",children:"Save as Draft"}),(0,p.jsx)("button",{className:"write_button",onClick:U,children:"Post"})]})})]}),(0,p.jsxs)("div",{className:"writeblog_menu_item",children:[(0,p.jsx)("h1",{children:"Categories"}),(0,p.jsxs)("div",{className:"radio_group",children:[(0,p.jsx)("input",{type:"radio",name:"category",id:"insight"}),(0,p.jsx)("label",{htmlFor:"insight",children:"Insight"})]}),(0,p.jsxs)("div",{className:"radio_group",children:[(0,p.jsx)("input",{type:"radio",name:"category",id:"tutorials"}),(0,p.jsx)("label",{htmlFor:"tutorials",children:"Tutorial"})]}),(0,p.jsxs)("div",{className:"radio_group",children:[(0,p.jsx)("input",{type:"radio",name:"category",id:"reviews"}),(0,p.jsx)("label",{htmlFor:"reviews",children:"Review"})]}),(0,p.jsxs)("div",{className:"radio_group",children:[(0,p.jsx)("input",{type:"radio",name:"category",id:"other"}),(0,p.jsx)("label",{htmlFor:"other",children:"Other"})]})]})]})]})})}}}]);
//# sourceMappingURL=82.a8e7a3f6.chunk.js.map