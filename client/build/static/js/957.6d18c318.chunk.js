/*! For license information please see 957.6d18c318.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbooking=self.webpackChunkbooking||[]).push([[957],{7957:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var i=t(4165),o=t(5861),r=t(9439),c=t(2791);function a(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)e[i]=t[i]}return e}var s=function e(n,t){function i(e,i,o){if("undefined"!==typeof document){"number"===typeof(o=a({},t,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var r="";for(var c in o)o[c]&&(r+="; "+c,!0!==o[c]&&(r+="="+o[c].split(";")[0]));return document.cookie=e+"="+n.write(i,e)+r}}return Object.create({set:i,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],i={},o=0;o<t.length;o++){var r=t[o].split("="),c=r.slice(1).join("=");try{var a=decodeURIComponent(r[0]);if(i[a]=n.read(c,a),e===a)break}catch(s){}}return e?i[e]:i}},remove:function(e,n){i(e,"",a({},n,{expires:-1}))},withAttributes:function(n){return e(this.converter,a({},this.attributes,n))},withConverter:function(n){return e(a({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(n)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),l=t(4569),u=t.n(l),d=t(7689),m=t(1087),f=t(184),h=function(e){var n=e.id,t=(0,c.useState)([]),i=(0,r.Z)(t,2),o=i[0],a=i[1];return(0,c.useEffect)((function(){u().get("/api/blogs").then((function(e){a(e.data)})).catch((function(e){console.log(e)}))}),[]),(0,f.jsxs)("div",{className:"blog_menu",children:[(0,f.jsx)("h1",{className:"blog_menu_title",children:"Additional Articles"}),o.map((function(e){return e.id!==Number(n)&&(0,f.jsxs)("div",{className:"blog_menu_item",children:[(0,f.jsx)("img",{className:"blog_menu_img",src:"/uploads/".concat(e.main_image),alt:e.title}),(0,f.jsxs)("div",{className:"blog_menu_item_content",children:[(0,f.jsx)("h2",{className:"blog_menu_item_title",children:e.title}),(0,f.jsx)("button",{className:"blog_menu_button",onClick:function(){window.location.href="/blog/".concat(e.id)},children:"Read More"})]})]},e.id)}))]})},g=function(e){var n=e.setConfirmation,t=e.setIsOpen;return(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:"confirmation-dialog-inner",children:[(0,f.jsx)("h2",{children:"Are you sure you want to delete this post?"}),(0,f.jsxs)("div",{className:"confirmation-dialog-buttons",children:[(0,f.jsx)("button",{className:"confirmation-dialog-button confirmation-dialog-button-cancel",onClick:function(){t(!1)},children:"Cancel"}),(0,f.jsx)("button",{className:"confirmation-dialog-button confirmation-dialog-button-delete",onClick:function(){t(!1),n(!0)},children:"Delete"})]})]})})},p=t(9983),v=t(8820),b=function(){var e=(0,c.useState)(null),n=(0,r.Z)(e,2),t=n[0],a=n[1],l=(0,c.useState)(!0),b=(0,r.Z)(l,2),x=b[0],_=b[1],j=(0,c.useState)(!1),N=(0,r.Z)(j,2),w=N[0],k=N[1],C=(0,c.useState)(!1),Z=(0,r.Z)(C,2),y=Z[0],I=Z[1],S=(0,c.useState)(!1),U=(0,r.Z)(S,2),D=U[0],E=U[1],R=(0,d.UO)().id,A=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{u().get("/api/blogs/".concat(R)).then((function(e){a(e.data[0]),_(!1)}))}catch(n){console.log(n),_(!1)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[R]),(0,c.useEffect)((function(){s.get("jwt");k(!0);var e=document.getElementById("blog");return e.classList.add("active"),function(){e.classList.remove("active")}}),[]);var L,O=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u().delete("/api/auth/blogs/".concat(R));case 3:window.location.href="/blog",e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){D&&B()}),[D]),(0,f.jsxs)("div",{className:"blog_single_container",children:[y&&(0,f.jsx)("div",{className:"confirmation_dialog_container",children:(0,f.jsx)(g,{setConfirmation:E,setIsOpen:I})}),(0,f.jsx)("div",{className:"blog_single_inner",children:t&&!x?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"blog_single_content",children:[(0,f.jsx)("img",{src:"/uploads/".concat(t.main_image),alt:t.title}),(0,f.jsxs)("div",{className:"blog_author",children:[(0,f.jsx)("img",{className:"blog_author_image",src:t.author_img,alt:t.author_name}),(0,f.jsxs)("div",{className:"blog_info",children:[(0,f.jsx)("span",{className:"blog_author_name",children:t.author_name}),(0,f.jsxs)("span",{className:"blog_date_posted",children:["Posted ",(L=t.created_at,new Date(L).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}))]})]}),w&&(0,f.jsxs)("div",{className:"edit_blog",children:[(0,f.jsx)(m.rU,{to:"/blog/write?edit=".concat(t.id),children:(0,f.jsx)(p.Pd.Provider,{value:{className:"shared-class edit_icon",color:"black",size:30},children:(0,f.jsx)(v.QML,{})})}),(0,f.jsx)(p.Pd.Provider,{value:{className:"shared-class edit_icon",color:"red",size:30},onClick:O,children:(0,f.jsx)(v.YK6,{onClick:O})})]})]}),(0,f.jsx)("h1",{className:"blog_single_title",children:t.title}),(0,f.jsx)("div",{className:"blog_single_text",dangerouslySetInnerHTML:{__html:t.content}})]}),(0,f.jsx)("div",{className:"blog_single_menu",children:(0,f.jsx)(h,{id:R})})]}):(0,f.jsx)("p",{children:"Loading..."})})]})}}}]);
//# sourceMappingURL=957.6d18c318.chunk.js.map