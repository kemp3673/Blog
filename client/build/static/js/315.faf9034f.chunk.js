"use strict";(self.webpackChunkbooking=self.webpackChunkbooking||[]).push([[315],{315:function(e,t,n){n.r(t);var r=n(4165),a=n(5861),s=n(9439),i=n(2791),c=n(4569),u=n.n(c),l=n(1087),o=n(184);t.default=function(){var e=(0,i.useState)(null),t=(0,s.Z)(e,2),n=t[0],c=t[1],p=(0,i.useState)(null),f=(0,s.Z)(p,2),d=f[0],h=f[1],m=(0,i.useState)(null),x=(0,s.Z)(m,2),b=x[0],j=x[1];(0,i.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u().get("/api/auth/user/".concat(1));case 3:t=e.sent,n=t.data,c(n[0]),e.next=16;break;case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.next=13,u().get("/api/auth/user/".concat(1));case 13:a=e.sent,s=a.data,c(s[0]);case 16:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var v=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j(null),t.preventDefault(),d){e.next=7;break}return j("No file selected"),e.abrupt("return");case 7:if("application/pdf"===d.type){e.next=12;break}return j("File must be a pdf"),e.abrupt("return");case 12:if(!(d.size>1e6)){e.next=15;break}return j("File size must be less than 1MB"),e.abrupt("return");case 15:return(n=new FormData).append("resume",d),e.next=19,u().post("/api/auth/resume",n);case 19:a=e.sent,s=a.data,j(s.message);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,o.jsx)("div",{className:"profile_container",children:n?(0,o.jsxs)("div",{className:"profile_inner",children:[(0,o.jsx)("h1",{children:"Profile"}),(0,o.jsxs)("div",{className:"profile_image",children:[(0,o.jsx)("img",{className:"navbar_profile",src:n.img,alt:"profile"}),(0,o.jsx)("input",{type:"file",accept:"image/*"}),(0,o.jsx)("button",{children:"Update Profile Picture"})]}),(0,o.jsxs)("div",{className:"profile_info",children:[(0,o.jsx)("h2",{children:n.name}),(0,o.jsx)("h3",{children:n.email})]}),(0,o.jsxs)("div",{className:"account_posts",children:[(0,o.jsx)(l.rU,{to:"/projects/write",children:(0,o.jsx)("button",{className:"btn btn-primary",children:"Add Project Entry"})}),(0,o.jsx)(l.rU,{to:"/blog/write",children:(0,o.jsx)("button",{className:"btn btn-primary",children:"Add Blog Entry"})}),(0,o.jsxs)("form",{onSubmit:v,children:[(0,o.jsx)("input",{type:"file",accept:".pdf",onChange:function(e){j(null),h(e.target.files[0])}}),(0,o.jsx)("button",{type:"submit",children:"Update Resume"})]}),b?(0,o.jsx)("span",{children:b}):null]})]}):null})}}}]);
//# sourceMappingURL=315.faf9034f.chunk.js.map