{"version":3,"file":"static/js/344.6cd72b1a.chunk.js","mappings":"mNAqFA,UA7Ec,WAEZ,IAAMA,GAAYC,EAAAA,EAAAA,KAAY,SAACC,GAAK,OAAKA,EAAMC,KAAKC,OAAO,IACrDC,GAAWC,EAAAA,EAAAA,MAEjBC,GAAgCC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAArCI,EAAQF,EAAA,GAAEG,EAAWH,EAAA,GAC5BI,GAA8BL,EAAAA,EAAAA,WAAS,GAAKM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAArCE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GAiC1B,OA/BAG,EAAAA,EAAAA,YAAU,WAEiB,IAArBjB,EAAUkB,OAEZC,IAAAA,IACO,cACJC,MAAK,SAACC,GACLT,EAAYS,EAAIC,MAChBjB,GAASkB,EAAAA,EAAAA,GAAaF,EAAIC,OAC1BN,GAAW,EACb,IACCQ,OAAM,SAACC,GACNC,QAAQC,IAAIF,EACd,KAGFb,EAAWgB,WAAC,GAADC,EAAAA,EAAAA,GAAI7B,IACfgB,GAAW,IAIb,IAAMc,EAAWC,SAASC,eAAe,QAGzC,OAFAF,EAASG,UAAUC,IAAI,UAEhB,WACLJ,EAASG,UAAUE,OAAO,SAC5B,CAEF,GAAG,IAGCpB,GAEAqB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,UAASC,UACtBF,EAAAA,EAAAA,KAACG,EAAAA,EAAO,OAMVH,EAAAA,EAAAA,KAAA,OAAKC,UAAU,0BAAyBC,SACrC3B,EAASO,OAAS,GACjBkB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,QAAOC,SACnB3B,EAAS6B,KAAI,SAACrC,GAAI,OACjBsC,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,OAAMC,SAAA,EACnBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,aAAYC,UACzBF,EAAAA,EAAAA,KAAA,OAAKM,IAAG,YAAAC,OAAcxC,EAAKyC,YAAcC,IAAK1C,EAAK2C,WAErDL,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,eAAcC,SAAA,EAC3BF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,aAAYC,SAAEnC,EAAK2C,SACjCV,EAAAA,EAAAA,KAAA,KAAGC,UAAU,mBAAkBC,SAAEnC,EAAK4C,eACtCX,EAAAA,EAAAA,KAACY,EAAAA,GAAI,CAACX,UAAU,YAAYY,GAAE,SAAAN,OAAWxC,EAAK+C,IAAKZ,UACjDF,EAAAA,EAAAA,KAAA,UAAQC,UAAU,cAAaC,SAAC,qBARXnC,EAAK+C,GAW1B,OAIVT,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,WAAUC,SAAA,EACvBF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,oBACJF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,yCAMf,C","sources":["pages/Blogs.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport Loading from \"../components/Loading\";\n// Redux\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { addBlogEntry } from \"../state/blogReducer.js\";\n\nconst Blogs = () => {\n  // REDUX\n  const blogState = useSelector((state) => state.blog.entries);\n  const dispatch = useDispatch();\n  // LOCAL STATE\n  const [blogData, setBlogData] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    // When page loads, check if redux already has blog entries\n    if (blogState.length === 0) {\n      // If no entries, GET entries from API\n      axios\n        .get(\"/api/blogs\") // TODO change to /api/auth/user/${user_id}\n        .then((res) => {\n          setBlogData(res.data);\n          dispatch(addBlogEntry(res.data));\n          setLoading(false);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    } else {\n      // If blog entries already present, use those instead of making API call\n      setBlogData(...blogState);\n      setLoading(false);\n    }\n\n    // Set navbar 'Blog' option to active so it is underlined\n    const blogLink = document.getElementById(\"blog\");\n    blogLink.classList.add(\"active\");\n    // Remove active class on component unmount\n    return () => {\n      blogLink.classList.remove(\"active\");\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  /* Set loading spinner until data comes back */\n  if (loading) {\n    return (\n      <div className=\"loading\">\n        <Loading />\n      </div>\n    );\n    /* Once API call is back, determines if entries or blank */\n  } else {\n    return (\n      <div className=\"posts_container wrapper\">\n        {blogData.length > 0 ? (\n          <div className=\"posts\">\n            {blogData.map((blog) => (\n              <div className=\"post\" key={blog.id}>\n                <div className=\"post_image\">\n                  <img src={`/uploads/${blog.main_image}`} alt={blog.title} />\n                </div>\n                <div className=\"post_content\">\n                  <h1 className=\"post_title\">{blog.title}</h1>\n                  <p className=\"post_description\">{blog.description}</p>\n                  <Link className=\"post_link\" to={`/blog/${blog.id}`}>\n                    <button className=\"post_button\">Read More</button>\n                  </Link>\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div className=\"no_posts\">\n            <h1>No Posts Found</h1>\n            <p>Check back later for more posts!</p>\n          </div>\n        )}\n      </div>\n    );\n  }\n};\n\nexport default Blogs;\n"],"names":["blogState","useSelector","state","blog","entries","dispatch","useDispatch","_useState","useState","_useState2","_slicedToArray","blogData","setBlogData","_useState3","_useState4","loading","setLoading","useEffect","length","axios","then","res","data","addBlogEntry","catch","err","console","log","apply","_toConsumableArray","blogLink","document","getElementById","classList","add","remove","_jsx","className","children","Loading","map","_jsxs","src","concat","main_image","alt","title","description","Link","to","id"],"sourceRoot":""}